(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.petName=e,this.elt=null,this.url=n,this.overlay=document.querySelector(".overlay"),this.closeElt=null,this.closeHandler=this.closeHandler.bind(this),this.init()}var n,i;return n=t,i=[{key:"init",value:function(){var e=this;return fetch(this.url,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){var n=t.find((function(t){return t.name===e.petName}));e.appendElt(e.createElt(n)),e.overlay&&e.overlay.classList.add("overlay--active"),e.startEventListeners()}))}},{key:"appendElt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.querySelector("body");return t.append(e)}},{key:"startEventListeners",value:function(){this.closeElt=this.elt.querySelector(".popup__button"),this.overlay.addEventListener("click",this.closeHandler),this.closeElt.addEventListener("click",this.closeHandler)}},{key:"closeHandler",value:function(){this.overlay&&this.overlay.classList.remove("overlay--active"),this.overlay.removeEventListener("click",this.closeHandler),this.closeElt=null,this.elt.parentNode.removeChild(this.elt),this.elt=null}},{key:"createElt",value:function(e){var t,n,i,s,c,o,l,a,r,u;return this.elt=document.createElement("div"),this.elt.classList.add("popup"),this.elt.insertAdjacentHTML("beforeend",(n=(t=e).img,i=t.name,s=t.type,c=t.breed,o=t.description,l=t.age,a=t.inoculations,r=t.diseases,u=t.parasites,'\n        <button class="popup__button button-circle">\n            <svg width="12" height="12">\n                <use xlink:href="img/sprite.svg#icon-cross"></use>\n            </svg>\n        </button>\n        <div class="popup__img-wrapper">\n            <img class="popup__img" src="'.concat(n,'" alt="').concat(i,'">\n        </div>\n        <div class="popup__content">\n            <div class="popup__name">').concat(i,'</div>\n            <div class="popup__kind">').concat(s," - ").concat(c,'</div>\n            <div class="popup__text">').concat(o,'</div>\n            <ul class="popup__list">\n                <li class="popup__item">Age: <span>').concat(l,'</span></li>\n                <li class="popup__item">Inoculations: <span>').concat(a.join(", "),'</span></li>\n                <li class="popup__item">Diseases: <span>').concat(r.join(", "),'</span></li>\n                <li class="popup__item">Parasites: <span>').concat(u.join(", "),"</span></li>\n            </ul>\n        </div>\n    "))),this.elt}}],i&&e(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();try{var n=document.querySelector(".js-toggler"),i=document.querySelector(".header__menu");n&&i&&function(e,t,n,i){var s=document.querySelector(".header"),c=document.querySelector(".overlay"),o=e;function l(e){t.contains(e.target)||a()}function a(){s.classList.remove("opened"),o.removeEventListener("click",a),c.removeEventListener("click",l),e.addEventListener("click",r),c.classList.remove("overlay--active")}function r(){var t;(t=document.querySelector(".opened"))&&t!==s&&t.classList.remove("opened"),s.classList.add("opened"),e.removeEventListener("click",r),o.addEventListener("click",a),c.addEventListener("click",l),c.classList.add("overlay--active")}e.addEventListener("click",r)}(n,i)}catch(e){console.log(e)}try{var s=document.querySelectorAll(".menu__link"),c=s.length;s.forEach((function(e,t){t!==c-1&&t!==c-2||("click",e.addEventListener("click",(function(e){e.preventDefault()})))}))}catch(e){console.log(e)}try{document.querySelector(".slider__list").addEventListener("click",(function(e){var n=e.target.closest(".friend-card");if(n){e.preventDefault();var i=n.querySelector(".friend__name").textContent;new t(i,"http://localhost:3000/js/pets.json")}}))}catch(e){console.log(e)}})();